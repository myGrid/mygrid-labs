<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_24) on Fri Jun 04 09:30:45 IST 2010 -->
<TITLE>
ProvenanceAccess
</TITLE>

<META NAME="keywords" CONTENT="net.sf.taverna.t2.provenance.api.ProvenanceAccess class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="ProvenanceAccess";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../net/sf/taverna/t2/provenance/api/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ProvenanceAccess.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../net/sf/taverna/t2/provenance/api/NativeAnswer.html" title="class in net.sf.taverna.t2.provenance.api"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceConnectorType.html" title="class in net.sf.taverna.t2.provenance.api"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html?net/sf/taverna/t2/provenance/api/ProvenanceAccess.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ProvenanceAccess.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
net.sf.taverna.t2.provenance.api</FONT>
<BR>
Class ProvenanceAccess</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../../resources/inherit.gif" ALT="extended by "><B>net.sf.taverna.t2.provenance.api.ProvenanceAccess</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>ProvenanceAccess</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Paolo Missier, Stuart Owen
 <p/>This API is the single access point into the Taverna provenance database. Its main functionality is to 
 let clients query the content of the DB, either using dedicated methods that retrieve specific entity values from the 
 DB, or through a more general XML-based query language. Examples of XML provenance queries can be found in the external package 
 <CODE>net.sf.taverna.t2.provenance.apic.client.resources</CODE>. Class <CODE>net.sf.taverna.t2.provenance.api.client.ProvenanceAPISampleClient</CODE> 
 provides an example of API client that third parties would use to interact with this API.<br/>
 The XML schema for the XML query language is <code>pquery.xsd</code> in <CODE>net.sf.taverna.t2.provenance.apic.client.resources</CODE></DD>
</DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#ProvenanceAccess(java.lang.String)">ProvenanceAccess</A></B>(java.lang.String&nbsp;connectorType)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.sql.Statement</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#execSQLQuery(java.lang.String)">execSQLQuery</A></B>(java.lang.String&nbsp;q)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pass-through query method</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../net/sf/taverna/t2/provenance/api/QueryAnswer.html" title="class in net.sf.taverna.t2.provenance.api">QueryAnswer</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#executeQuery(net.sf.taverna.t2.provenance.api.Query)">executeQuery</A></B>(<A HREF="../../../../../../net/sf/taverna/t2/provenance/api/Query.html" title="class in net.sf.taverna.t2.provenance.api">Query</A>&nbsp;pq)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Executes a provenance query.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;net.sf.taverna.t2.provenance.lineageservice.Dependencies</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#fetchPortData(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)">fetchPortData</A></B>(java.lang.String&nbsp;wfInstance,
              java.lang.String&nbsp;workflowId,
              java.lang.String&nbsp;pname,
              java.lang.String&nbsp;port,
              java.lang.String&nbsp;iteration)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns individal records from the provenance DB in response to a query that specifies
 specific elements within values associated with a processor port, in the context of a specific run of a workflow.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;net.sf.taverna.t2.provenance.lineageservice.utils.WorkflowInstance&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#getAllWorkflowIDs()">getAllWorkflowIDs</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;net.sf.taverna.t2.provenance.lineageservice.utils.Arc&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#getArcs(java.util.Map)">getArcs</A></B>(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;queryConstraints)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;net.sf.taverna.t2.provenance.lineageservice.utils.Collection&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#getCollectionsForRun(java.lang.String)">getCollectionsForRun</A></B>(java.lang.String&nbsp;wfInstanceID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#getContainingCollection(net.sf.taverna.t2.provenance.lineageservice.LineageQueryResultRecord)">getContainingCollection</A></B>(net.sf.taverna.t2.provenance.lineageservice.LineageQueryResultRecord&nbsp;record)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;net.sf.taverna.t2.provenance.lineageservice.utils.Workflow&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#getContainingWorkflowsForProcessor(java.lang.String)">getContainingWorkflowsForProcessor</A></B>(java.lang.String&nbsp;pname)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;net.sf.taverna.t2.invocation.InvocationContext</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#getInvocationContext()">getInvocationContext</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#getLatestRunID()">getLatestRunID</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;net.sf.taverna.t2.provenance.lineageservice.ProvenanceAnalysis</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#getPa()">getPa</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;net.sf.taverna.t2.provenance.lineageservice.utils.Var&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#getPortsForDataflow(java.lang.String)">getPortsForDataflow</A></B>(java.lang.String&nbsp;workflowID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lists all ports for a processor</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;net.sf.taverna.t2.provenance.lineageservice.utils.Var&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#getPortsForProcessor(java.lang.String, java.lang.String)">getPortsForProcessor</A></B>(java.lang.String&nbsp;workflowID,
                     java.lang.String&nbsp;processorName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list all ports for a specific processor within a workflow</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;net.sf.taverna.t2.provenance.lineageservice.ProvenanceQuery</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#getPq()">getPq</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;net.sf.taverna.t2.provenance.lineageservice.utils.ProcBinding&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#getProcBindings(java.util.Map)">getProcBindings</A></B>(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;constraints)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;net.sf.taverna.t2.provenance.lineageservice.utils.ProvenanceProcessor&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#getProcessorsForWorkflowID(java.lang.String)">getProcessorsForWorkflowID</A></B>(java.lang.String&nbsp;workflowID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map&lt;java.lang.String,java.util.List&lt;net.sf.taverna.t2.provenance.lineageservice.utils.ProvenanceProcessor&gt;&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#getProcessorsInWorkflow(java.lang.String)">getProcessorsInWorkflow</A></B>(java.lang.String&nbsp;workflowID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;net.sf.taverna.t2.provenance.connector.ProvenanceConnector</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#getProvenanceConnector()">getProvenanceConnector</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#getTopLevelWorkflowID(java.lang.String)">getTopLevelWorkflowID</A></B>(java.lang.String&nbsp;runID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;net.sf.taverna.t2.provenance.lineageservice.utils.VarBinding&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#getVarBindings(java.util.Map)">getVarBindings</A></B>(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;constraints)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;net.sf.taverna.t2.provenance.lineageservice.utils.Var&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#getVars(java.util.Map)">getVars</A></B>(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;queryConstraints)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;net.sf.taverna.t2.provenance.lineageservice.utils.Workflow&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#getWorkflowForRun(java.lang.String)">getWorkflowForRun</A></B>(java.lang.String&nbsp;runID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;java.lang.String&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#getWorkflowID(java.lang.String)">getWorkflowID</A></B>(java.lang.String&nbsp;runID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returns a set of workflowIDs for a given runID.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#getWorkflowIDForExternalName(java.lang.String)">getWorkflowIDForExternalName</A></B>(java.lang.String&nbsp;workflowName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#init()">init</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#initDataSource(java.lang.String, java.lang.String)">initDataSource</A></B>(java.lang.String&nbsp;driverClassName,
               java.lang.String&nbsp;jdbcUrl)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The recommended data source intitialisation method, where only a driver name and jdbc url are required.<br/>
 If the driver supports multiple connections, 
 then a pool will be created of 10 min idle, 50 max idle, and 50 max active connections.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#initDataSource(java.lang.String, java.lang.String, java.lang.String, java.lang.String, int, int, int)">initDataSource</A></B>(java.lang.String&nbsp;driverClassName,
               java.lang.String&nbsp;jdbcUrl,
               java.lang.String&nbsp;username,
               java.lang.String&nbsp;password,
               int&nbsp;minIdle,
               int&nbsp;maxIdle,
               int&nbsp;maxActive)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialises a named JNDI DataSource if not already set up externally.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;net.sf.taverna.t2.invocation.InvocationContext</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#initDefaultReferenceService()">initDefaultReferenceService</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialises a default Reference Service for storing data and their associated references.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;net.sf.taverna.t2.invocation.InvocationContext</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#initReferenceService(java.lang.String)">initReferenceService</A></B>(java.lang.String&nbsp;hibernateContext)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialises the Reference Service for a given hibernate context definition.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#isAttachOPMArtifactValues()">isAttachOPMArtifactValues</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#isIncludeProcessorOutputs()">isIncludeProcessorOutputs</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#isOPMGenerationActive()">isOPMGenerationActive</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#isTopLevelDataflow(java.lang.String)">isTopLevelDataflow</A></B>(java.lang.String&nbsp;wfNameID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;net.sf.taverna.t2.provenance.lineageservice.utils.WorkflowInstance&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#listRuns(java.lang.String, java.util.Map)">listRuns</A></B>(java.lang.String&nbsp;workflowId,
         java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;conditions)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Set&lt;java.lang.String&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#removeRun(java.lang.String)">removeRun</A></B>(java.lang.String&nbsp;runID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes all records that pertain to a specific run (but not the static specification of the workflow run)</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#removeWorkflow(java.lang.String)">removeWorkflow</A></B>(java.lang.String&nbsp;wfName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;removes all records pertaining to the static structure of a workflow.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#setPa(net.sf.taverna.t2.provenance.lineageservice.ProvenanceAnalysis)">setPa</A></B>(net.sf.taverna.t2.provenance.lineageservice.ProvenanceAnalysis&nbsp;pa)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#setPq(net.sf.taverna.t2.provenance.lineageservice.ProvenanceQuery)">setPq</A></B>(net.sf.taverna.t2.provenance.lineageservice.ProvenanceQuery&nbsp;pq)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#setProvenanceConnector(net.sf.taverna.t2.provenance.connector.ProvenanceConnector)">setProvenanceConnector</A></B>(net.sf.taverna.t2.provenance.connector.ProvenanceConnector&nbsp;provenanceConnector)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#toggleAttachOPMArtifactValues(boolean)">toggleAttachOPMArtifactValues</A></B>(boolean&nbsp;active)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;should actual artifact values be attached to OPM artifact nodes?<br>
 default is FALSE<br/>
 THIS IS CURRENTLY UNSUPPORTED -- DEFAULTS TO FALSE</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#toggleIncludeProcessorOutputs(boolean)">toggleIncludeProcessorOutputs</A></B>(boolean&nbsp;active)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include valus of output ports in the query result? input port values are always included<br>
 default is FALSE</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#toggleOPMGeneration(boolean)">toggleOPMGeneration</A></B>(boolean&nbsp;active)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;should an OPM graph be generated in response to a query?<br>
 default is TRUE</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ProvenanceAccess(java.lang.String)"><!-- --></A><H3>
ProvenanceAccess</H3>
<PRE>
public <B>ProvenanceAccess</B>(java.lang.String&nbsp;connectorType)</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="initDataSource(java.lang.String, java.lang.String)"><!-- --></A><H3>
initDataSource</H3>
<PRE>
public static void <B>initDataSource</B>(java.lang.String&nbsp;driverClassName,
                                  java.lang.String&nbsp;jdbcUrl)</PRE>
<DL>
<DD>The recommended data source intitialisation method, where only a driver name and jdbc url are required.<br/>
 If the driver supports multiple connections, 
 then a pool will be created of 10 min idle, 50 max idle, and 50 max active connections.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>driverClassName</CODE> - <DD><CODE>jdbcUrl</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="initDataSource(java.lang.String, java.lang.String, java.lang.String, java.lang.String, int, int, int)"><!-- --></A><H3>
initDataSource</H3>
<PRE>
public static void <B>initDataSource</B>(java.lang.String&nbsp;driverClassName,
                                  java.lang.String&nbsp;jdbcUrl,
                                  java.lang.String&nbsp;username,
                                  java.lang.String&nbsp;password,
                                  int&nbsp;minIdle,
                                  int&nbsp;maxIdle,
                                  int&nbsp;maxActive)</PRE>
<DL>
<DD>Initialises a named JNDI DataSource if not already set up externally.
 The DataSource is named jdbc/taverna
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>driverClassName</CODE> - - the classname for the driver to be used.<DD><CODE>jdbcUrl</CODE> - - the jdbc connection url<DD><CODE>username</CODE> - - the username, if required (otherwise null)<DD><CODE>password</CODE> - - the password, if required (oteherwise null)<DD><CODE>minIdle</CODE> - - if the driver supports multiple connections, then the minumum number of idle connections in the pool<DD><CODE>maxIdle</CODE> - - if the driver supports multiple connections, then the maximum number of idle connections in the pool<DD><CODE>maxActive</CODE> - - if the driver supports multiple connections, then the minumum number of connections in the pool</DL>
</DD>
</DL>
<HR>

<A NAME="initDefaultReferenceService()"><!-- --></A><H3>
initDefaultReferenceService</H3>
<PRE>
public net.sf.taverna.t2.invocation.InvocationContext <B>initDefaultReferenceService</B>()</PRE>
<DL>
<DD>Initialises a default Reference Service for storing data and their associated references.
 This creates a reference service using the named JNDI Data Source 'jdbc/taverna'.<br/>
 the new Reference Service is associated to the <CODE>ProvenanceConnector</CODE>, enabling data references to be resolved
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="initReferenceService(java.lang.String)"><!-- --></A><H3>
initReferenceService</H3>
<PRE>
public net.sf.taverna.t2.invocation.InvocationContext <B>initReferenceService</B>(java.lang.String&nbsp;hibernateContext)</PRE>
<DL>
<DD>Initialises the Reference Service for a given hibernate context definition.
 This mapping file must be available in the root of the classpath.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>hibernateContext</CODE> - <DT><B>See Also:</B><DD><A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#initDefaultReferenceService()"><CODE>initDefaultReferenceService()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="init()"><!-- --></A><H3>
init</H3>
<PRE>
public void <B>init</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="execSQLQuery(java.lang.String)"><!-- --></A><H3>
execSQLQuery</H3>
<PRE>
public java.sql.Statement <B>execSQLQuery</B>(java.lang.String&nbsp;q)
                                throws java.lang.InstantiationException,
                                       java.lang.IllegalAccessException,
                                       java.lang.ClassNotFoundException,
                                       java.sql.SQLException</PRE>
<DL>
<DD>pass-through query method
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>q</CODE> - valid JDBC query string for the T2provenance schema
<DT><B>Returns:</B><DD>the executed Statement if successull, null otherwise
<DT><B>Throws:</B>
<DD><CODE>java.lang.InstantiationException</CODE>
<DD><CODE>java.lang.IllegalAccessException</CODE>
<DD><CODE>java.lang.ClassNotFoundException</CODE>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="executeQuery(net.sf.taverna.t2.provenance.api.Query)"><!-- --></A><H3>
executeQuery</H3>
<PRE>
public <A HREF="../../../../../../net/sf/taverna/t2/provenance/api/QueryAnswer.html" title="class in net.sf.taverna.t2.provenance.api">QueryAnswer</A> <B>executeQuery</B>(<A HREF="../../../../../../net/sf/taverna/t2/provenance/api/Query.html" title="class in net.sf.taverna.t2.provenance.api">Query</A>&nbsp;pq)
                         throws java.sql.SQLException</PRE>
<DL>
<DD>Executes a provenance query. Please see separate doc. for the XML query language schema.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="fetchPortData(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
fetchPortData</H3>
<PRE>
public net.sf.taverna.t2.provenance.lineageservice.Dependencies <B>fetchPortData</B>(java.lang.String&nbsp;wfInstance,
                                                                              java.lang.String&nbsp;workflowId,
                                                                              java.lang.String&nbsp;pname,
                                                                              java.lang.String&nbsp;port,
                                                                              java.lang.String&nbsp;iteration)</PRE>
<DL>
<DD>Returns individal records from the provenance DB in response to a query that specifies
 specific elements within values associated with a processor port, in the context of a specific run of a workflow.
 <br/>This is used in the workbench to retrieve the "intermediate results" at various points during workflow execution, 
 as opposed to a set of dependencies in response to a full-fledged provenance query.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>wfInstance</CODE> - lineage scope -- a specific instance<DD><CODE>pname</CODE> - for a specific processor [required]<DD><CODE>a</CODE> - specific (input or output) variable [optional]<DD><CODE>iteration</CODE> - and a specific iteration [optional]
<DT><B>Returns:</B><DD>a list of , encapsulated in a <CODE>Dependencies</CODE> object
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getContainingCollection(net.sf.taverna.t2.provenance.lineageservice.LineageQueryResultRecord)"><!-- --></A><H3>
getContainingCollection</H3>
<PRE>
public java.lang.String <B>getContainingCollection</B>(net.sf.taverna.t2.provenance.lineageservice.LineageQueryResultRecord&nbsp;record)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>record</CODE> - a record representing a single value -- possibly within a list hierarchy
<DT><B>Returns:</B><DD>the URI for topmost containing collection when the input record is within a list hierarchy, or null otherwise</DL>
</DD>
</DL>
<HR>

<A NAME="listRuns(java.lang.String, java.util.Map)"><!-- --></A><H3>
listRuns</H3>
<PRE>
public java.util.List&lt;net.sf.taverna.t2.provenance.lineageservice.utils.WorkflowInstance&gt; <B>listRuns</B>(java.lang.String&nbsp;workflowId,
                                                                                                   java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;conditions)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>workflowId</CODE> - defines the scope of the query - if null then the query runs on all available workflows<DD><CODE>conditions</CODE> - additional conditions to be defined. This is a placeholder as conditions are currently ignored
<DT><B>Returns:</B><DD>a list of wfInstanceID, each representing one run of the input workflowID</DL>
</DD>
</DL>
<HR>

<A NAME="isTopLevelDataflow(java.lang.String)"><!-- --></A><H3>
isTopLevelDataflow</H3>
<PRE>
public boolean <B>isTopLevelDataflow</B>(java.lang.String&nbsp;wfNameID)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getLatestRunID()"><!-- --></A><H3>
getLatestRunID</H3>
<PRE>
public java.lang.String <B>getLatestRunID</B>()
                                throws java.sql.SQLException</PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="removeRun(java.lang.String)"><!-- --></A><H3>
removeRun</H3>
<PRE>
public java.util.Set&lt;java.lang.String&gt; <B>removeRun</B>(java.lang.String&nbsp;runID)</PRE>
<DL>
<DD>Removes all records that pertain to a specific run (but not the static specification of the workflow run)
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>runID</CODE> - the internal ID of a run. This can be obtained using <A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceAccess.html#listRuns(java.lang.String, java.util.Map)"><CODE>listRuns(String, Map)</CODE></A>
<DT><B>Returns:</B><DD>the set of data references that pertain to the deleted run. This can be used by the Data Manager to ensure that
 no dangling references are left in the main Taverna data repositorry</DL>
</DD>
</DL>
<HR>

<A NAME="removeWorkflow(java.lang.String)"><!-- --></A><H3>
removeWorkflow</H3>
<PRE>
public void <B>removeWorkflow</B>(java.lang.String&nbsp;wfName)</PRE>
<DL>
<DD>removes all records pertaining to the static structure of a workflow.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>wfName</CODE> - the ID (not the external name) of the workflow whose static structure is to be deleted from the DB</DL>
</DD>
</DL>
<HR>

<A NAME="getWorkflowID(java.lang.String)"><!-- --></A><H3>
getWorkflowID</H3>
<PRE>
public java.util.List&lt;java.lang.String&gt; <B>getWorkflowID</B>(java.lang.String&nbsp;runID)</PRE>
<DL>
<DD>returns a set of workflowIDs for a given runID. The set is a singleton if the workflow has no nesting,
 but in general the list contains one workflowID for each nested workflow involved in the run
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>runID</CODE> - the internal ID for a specific workflow run
<DT><B>Returns:</B><DD>a list of workflow IDs, one for each nested workflow involved in the input run</DL>
</DD>
</DL>
<HR>

<A NAME="getWorkflowForRun(java.lang.String)"><!-- --></A><H3>
getWorkflowForRun</H3>
<PRE>
public java.util.List&lt;net.sf.taverna.t2.provenance.lineageservice.utils.Workflow&gt; <B>getWorkflowForRun</B>(java.lang.String&nbsp;runID)
                                                                                             throws java.sql.SQLException</PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getTopLevelWorkflowID(java.lang.String)"><!-- --></A><H3>
getTopLevelWorkflowID</H3>
<PRE>
public java.lang.String <B>getTopLevelWorkflowID</B>(java.lang.String&nbsp;runID)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>runID</CODE> - the internal ID for a specific workflow run
<DT><B>Returns:</B><DD>the ID of the top-level workflow that executed during the input run</DL>
</DD>
</DL>
<HR>

<A NAME="getAllWorkflowIDs()"><!-- --></A><H3>
getAllWorkflowIDs</H3>
<PRE>
public java.util.List&lt;net.sf.taverna.t2.provenance.lineageservice.utils.WorkflowInstance&gt; <B>getAllWorkflowIDs</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>a list of <CODE>WorkflowInstance</CODE> beans, each representing the complete description of a workflow run (note that this is 
 not just the ID of the run)</DL>
</DD>
</DL>
<HR>

<A NAME="getContainingWorkflowsForProcessor(java.lang.String)"><!-- --></A><H3>
getContainingWorkflowsForProcessor</H3>
<PRE>
public java.util.List&lt;net.sf.taverna.t2.provenance.lineageservice.utils.Workflow&gt; <B>getContainingWorkflowsForProcessor</B>(java.lang.String&nbsp;pname)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>a</CODE> - workflow processor name
<DT><B>Returns:</B><DD>the IDs of all workflows that contain a processor named pname</DL>
</DD>
</DL>
<HR>

<A NAME="getProcessorsInWorkflow(java.lang.String)"><!-- --></A><H3>
getProcessorsInWorkflow</H3>
<PRE>
public java.util.Map&lt;java.lang.String,java.util.List&lt;net.sf.taverna.t2.provenance.lineageservice.utils.ProvenanceProcessor&gt;&gt; <B>getProcessorsInWorkflow</B>(java.lang.String&nbsp;workflowID)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>workflowID</CODE> - 
<DT><B>Returns:</B><DD>a Map: workflowID -> [  ]
 Each entry in the list pertains to one composing sub-workflow 
 (if no nesting then this contains only one workflow, namely the top level one)</DL>
</DD>
</DL>
<HR>

<A NAME="getVars(java.util.Map)"><!-- --></A><H3>
getVars</H3>
<PRE>
public java.util.List&lt;net.sf.taverna.t2.provenance.lineageservice.utils.Var&gt; <B>getVars</B>(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;queryConstraints)
                                                                              throws java.sql.SQLException</PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getArcs(java.util.Map)"><!-- --></A><H3>
getArcs</H3>
<PRE>
public java.util.List&lt;net.sf.taverna.t2.provenance.lineageservice.utils.Arc&gt; <B>getArcs</B>(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;queryConstraints)
                                                                              throws java.sql.SQLException</PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getProcBindings(java.util.Map)"><!-- --></A><H3>
getProcBindings</H3>
<PRE>
public java.util.List&lt;net.sf.taverna.t2.provenance.lineageservice.utils.ProcBinding&gt; <B>getProcBindings</B>(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;constraints)
                                                                                              throws java.sql.SQLException</PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getCollectionsForRun(java.lang.String)"><!-- --></A><H3>
getCollectionsForRun</H3>
<PRE>
public java.util.List&lt;net.sf.taverna.t2.provenance.lineageservice.utils.Collection&gt; <B>getCollectionsForRun</B>(java.lang.String&nbsp;wfInstanceID)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getVarBindings(java.util.Map)"><!-- --></A><H3>
getVarBindings</H3>
<PRE>
public java.util.List&lt;net.sf.taverna.t2.provenance.lineageservice.utils.VarBinding&gt; <B>getVarBindings</B>(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;constraints)
                                                                                            throws java.sql.SQLException</PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getPortsForDataflow(java.lang.String)"><!-- --></A><H3>
getPortsForDataflow</H3>
<PRE>
public java.util.List&lt;net.sf.taverna.t2.provenance.lineageservice.utils.Var&gt; <B>getPortsForDataflow</B>(java.lang.String&nbsp;workflowID)</PRE>
<DL>
<DD>lists all ports for a processor
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>workflowID</CODE> - 
<DT><B>Returns:</B><DD>a list of <CODE>Var</CODE> beans, each representing an input or output port for the workflow</DL>
</DD>
</DL>
<HR>

<A NAME="getPortsForProcessor(java.lang.String, java.lang.String)"><!-- --></A><H3>
getPortsForProcessor</H3>
<PRE>
public java.util.List&lt;net.sf.taverna.t2.provenance.lineageservice.utils.Var&gt; <B>getPortsForProcessor</B>(java.lang.String&nbsp;workflowID,
                                                                                                  java.lang.String&nbsp;processorName)</PRE>
<DL>
<DD>list all ports for a specific processor within a workflow
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>workflowID</CODE> - <DD><CODE>processorName</CODE> - 
<DT><B>Returns:</B><DD>a list of <CODE>Var</CODE> beans, each representing an input or output port for the input processor</DL>
</DD>
</DL>
<HR>

<A NAME="toggleIncludeProcessorOutputs(boolean)"><!-- --></A><H3>
toggleIncludeProcessorOutputs</H3>
<PRE>
public void <B>toggleIncludeProcessorOutputs</B>(boolean&nbsp;active)</PRE>
<DL>
<DD>include valus of output ports in the query result? input port values are always included<br>
 default is FALSE
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isIncludeProcessorOutputs()"><!-- --></A><H3>
isIncludeProcessorOutputs</H3>
<PRE>
public boolean <B>isIncludeProcessorOutputs</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getInvocationContext()"><!-- --></A><H3>
getInvocationContext</H3>
<PRE>
public net.sf.taverna.t2.invocation.InvocationContext <B>getInvocationContext</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>an instance of <CODE>InvocationContext</CODE> that can be used by a client to deref a Taverna data reference</DL>
</DD>
</DL>
<HR>

<A NAME="toggleOPMGeneration(boolean)"><!-- --></A><H3>
toggleOPMGeneration</H3>
<PRE>
public void <B>toggleOPMGeneration</B>(boolean&nbsp;active)</PRE>
<DL>
<DD>should an OPM graph be generated in response to a query?<br>
 default is TRUE
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isOPMGenerationActive()"><!-- --></A><H3>
isOPMGenerationActive</H3>
<PRE>
public boolean <B>isOPMGenerationActive</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>true if OPM is set to be generated in response to a query</DL>
</DD>
</DL>
<HR>

<A NAME="toggleAttachOPMArtifactValues(boolean)"><!-- --></A><H3>
toggleAttachOPMArtifactValues</H3>
<PRE>
public void <B>toggleAttachOPMArtifactValues</B>(boolean&nbsp;active)</PRE>
<DL>
<DD>should actual artifact values be attached to OPM artifact nodes?<br>
 default is FALSE<br/>
 THIS IS CURRENTLY UNSUPPORTED -- DEFAULTS TO FALSE
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>active</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="isAttachOPMArtifactValues()"><!-- --></A><H3>
isAttachOPMArtifactValues</H3>
<PRE>
public boolean <B>isAttachOPMArtifactValues</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>true if the OPM graph artifacts are annotated with actual values</DL>
</DD>
</DL>
<HR>

<A NAME="getWorkflowIDForExternalName(java.lang.String)"><!-- --></A><H3>
getWorkflowIDForExternalName</H3>
<PRE>
public java.lang.String <B>getWorkflowIDForExternalName</B>(java.lang.String&nbsp;workflowName)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getProcessorsForWorkflowID(java.lang.String)"><!-- --></A><H3>
getProcessorsForWorkflowID</H3>
<PRE>
public java.util.List&lt;net.sf.taverna.t2.provenance.lineageservice.utils.ProvenanceProcessor&gt; <B>getProcessorsForWorkflowID</B>(java.lang.String&nbsp;workflowID)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getProvenanceConnector()"><!-- --></A><H3>
getProvenanceConnector</H3>
<PRE>
public net.sf.taverna.t2.provenance.connector.ProvenanceConnector <B>getProvenanceConnector</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>the singleton <CODE>ProvenanceConnector</CODE> used by the API to operate on the DB. Currently we support
 MySQL <CODE>MySQLProvenanceConnector</CODE>  and Derby <CODE>DerbyProvenanceConnector</CODE> connectors. 
 The set of supported connectors is extensible. The available connectors are discovered automatically by the API 
 upon startup, and it includes all the connectors that are mentioned in the &lt;dependencies> section of pom.xml 
 for Maven module <code>net.sf.taverna.t2.core.provenanceconnector</code></DL>
</DD>
</DL>
<HR>

<A NAME="setProvenanceConnector(net.sf.taverna.t2.provenance.connector.ProvenanceConnector)"><!-- --></A><H3>
setProvenanceConnector</H3>
<PRE>
public void <B>setProvenanceConnector</B>(net.sf.taverna.t2.provenance.connector.ProvenanceConnector&nbsp;provenanceConnector)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>a</CODE> - specific provenanceConnector used by the API</DL>
</DD>
</DL>
<HR>

<A NAME="getPa()"><!-- --></A><H3>
getPa</H3>
<PRE>
public net.sf.taverna.t2.provenance.lineageservice.ProvenanceAnalysis <B>getPa</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="setPa(net.sf.taverna.t2.provenance.lineageservice.ProvenanceAnalysis)"><!-- --></A><H3>
setPa</H3>
<PRE>
public void <B>setPa</B>(net.sf.taverna.t2.provenance.lineageservice.ProvenanceAnalysis&nbsp;pa)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pa</CODE> - the pa to set</DL>
</DD>
</DL>
<HR>

<A NAME="getPq()"><!-- --></A><H3>
getPq</H3>
<PRE>
public net.sf.taverna.t2.provenance.lineageservice.ProvenanceQuery <B>getPq</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>the pq</DL>
</DD>
</DL>
<HR>

<A NAME="setPq(net.sf.taverna.t2.provenance.lineageservice.ProvenanceQuery)"><!-- --></A><H3>
setPq</H3>
<PRE>
public void <B>setPq</B>(net.sf.taverna.t2.provenance.lineageservice.ProvenanceQuery&nbsp;pq)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pq</CODE> - the pq to set</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../net/sf/taverna/t2/provenance/api/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ProvenanceAccess.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../net/sf/taverna/t2/provenance/api/NativeAnswer.html" title="class in net.sf.taverna.t2.provenance.api"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../net/sf/taverna/t2/provenance/api/ProvenanceConnectorType.html" title="class in net.sf.taverna.t2.provenance.api"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html?net/sf/taverna/t2/provenance/api/ProvenanceAccess.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ProvenanceAccess.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
