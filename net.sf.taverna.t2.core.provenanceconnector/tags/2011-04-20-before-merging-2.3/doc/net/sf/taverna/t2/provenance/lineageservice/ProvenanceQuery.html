<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_24) on Mon Jul 05 13:04:56 BST 2010 -->
<TITLE>
ProvenanceQuery
</TITLE>

<META NAME="keywords" CONTENT="net.sf.taverna.t2.provenance.lineageservice.ProvenanceQuery class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="ProvenanceQuery";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ProvenanceQuery.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceAnalysis.html" title="class in net.sf.taverna.t2.provenance.lineageservice"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceWriter.html" title="class in net.sf.taverna.t2.provenance.lineageservice"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html?net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ProvenanceQuery.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
net.sf.taverna.t2.provenance.lineageservice</FONT>
<BR>
Class ProvenanceQuery</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../../resources/inherit.gif" ALT="extended by "><B>net.sf.taverna.t2.provenance.lineageservice.ProvenanceQuery</B>
</PRE>
<HR>
<DL>
<DT><PRE>public abstract class <B>ProvenanceQuery</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
Handles all the querying of provenance items in the database layer. Uses
 standard SQL so all specific instances of this class can extend this writer
 to handle all of the db queries
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Paolo Missier, Ian Dunlop, Stuart Owen</DD>
</DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#DATAFLOW_TYPE">DATAFLOW_TYPE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;org.apache.log4j.Logger</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#logger">logger</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#ProvenanceQuery()">ProvenanceQuery</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#addOrderByToQuery(java.lang.String, java.util.List, boolean)">addOrderByToQuery</A></B>(java.lang.String&nbsp;q0,
                  java.util.List&lt;java.lang.String&gt;&nbsp;orderAttr,
                  boolean&nbsp;terminate)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#addWhereClauseToQuery(java.lang.String, java.util.Map, boolean)">addWhereClauseToQuery</A></B>(java.lang.String&nbsp;q0,
                      java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;queryConstraints,
                      boolean&nbsp;terminate)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;implements a set of query constraints of the form var = value into a
 WHERE clause</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.sql.Statement</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#execQuery(java.lang.String)">execQuery</A></B>(java.lang.String&nbsp;q)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pass-through query method</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/LineageSQLQuery.html" title="class in net.sf.taverna.t2.provenance.lineageservice">LineageSQLQuery</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#generateSQL(java.lang.String, java.lang.String, java.lang.String, boolean)">generateSQL</A></B>(java.lang.String&nbsp;wfInstance,
            java.lang.String&nbsp;proc,
            java.lang.String&nbsp;effectivePath,
            boolean&nbsp;returnOutputs)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if effectivePath is not null: query varBinding using: wfInstanceRef =
 wfInstance, iteration = effectivePath, PNameRef = proc if input vars is
 null, then use the output var this returns the bindings for the set of
 input vars at the correct iteration if effectivePath is null: fetch
 VarBindings for all input vars, without constraint on the iteration<br/>
 added outer join with Data<br/>
 additionally, try querying the collection table first -- if the query succeeds, it means
 the path is pointing to an internal node in the collection, and we just got the right node.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/LineageSQLQuery.html" title="class in net.sf.taverna.t2.provenance.lineageservice">LineageSQLQuery</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#generateSQL2(java.lang.String, java.lang.String, java.lang.String, java.lang.String, boolean)">generateSQL2</A></B>(java.lang.String&nbsp;wfInstance,
             java.lang.String&nbsp;proc,
             java.lang.String&nbsp;var,
             java.lang.String&nbsp;path,
             boolean&nbsp;returnInput)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;java.lang.String&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getAllWFnames()">getAllWFnames</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.ArrayList&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/Workflow.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">Workflow</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getAllWorkflowRecords(java.util.ArrayList)">getAllWorkflowRecords</A></B>(java.util.ArrayList&lt;java.lang.String&gt;&nbsp;workflowIDList)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/Arc.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">Arc</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getArcs(java.util.Map)">getArcs</A></B>(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;queryConstraints)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;selects all Arcs</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;java.lang.String&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getChildrenOfWorkflow(java.lang.String)">getChildrenOfWorkflow</A></B>(java.lang.String&nbsp;parentWFName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/Collection.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">Collection</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getCollectionsForRun(java.lang.String)">getCollectionsForRun</A></B>(java.lang.String&nbsp;wfInstanceID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.sql.Connection</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getConnection()">getConnection</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;java.lang.String&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getContainedProcessors(java.lang.String)">getContainedProcessors</A></B>(java.lang.String&nbsp;dataflowName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returns the set of all processors that are structurally contained within
 the wf corresponding to the input dataflow name</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getContainingCollection(net.sf.taverna.t2.provenance.lineageservice.LineageQueryResultRecord)">getContainingCollection</A></B>(<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/LineageQueryResultRecord.html" title="class in net.sf.taverna.t2.provenance.lineageservice">LineageQueryResultRecord</A>&nbsp;record)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/Workflow.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">Workflow</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getContainingWorkflowsForProcessor(java.lang.String)">getContainingWorkflowsForProcessor</A></B>(java.lang.String&nbsp;pname)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getDataValue(java.lang.String)">getDataValue</A></B>(java.lang.String&nbsp;valueRef)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/Var.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">Var</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getInputVars(java.lang.String, java.lang.String, java.lang.String)">getInputVars</A></B>(java.lang.String&nbsp;pname,
             java.lang.String&nbsp;wfID,
             java.lang.String&nbsp;wfInstanceID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return the input variables for a given processor and a wfInstanceId</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getLatestRunID()">getLatestRunID</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/NestedListNode.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">NestedListNode</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getNestedListNodes(java.util.Map)">getNestedListNodes</A></B>(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;constraints)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/Var.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">Var</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getOutputVars(java.lang.String, java.lang.String, java.lang.String)">getOutputVars</A></B>(java.lang.String&nbsp;pname,
              java.lang.String&nbsp;wfID,
              java.lang.String&nbsp;wfInstanceID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return the output variables for a given processor and a wfInstanceId</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getParentOfWorkflow(java.lang.String)">getParentOfWorkflow</A></B>(java.lang.String&nbsp;childWFName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fetch children of parentWFName from the Workflow table</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map&lt;java.lang.String,java.lang.Integer&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getPredecessorsCount(java.lang.String)">getPredecessorsCount</A></B>(java.lang.String&nbsp;wfInstanceID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map&lt;java.lang.String,java.lang.Integer&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getPredecessorsCountOld(java.lang.String)">getPredecessorsCountOld</A></B>(java.lang.String&nbsp;wfInstanceID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new impl of getProcessorsIncomingLinks whicih avoids complications due to nesting, and relies on the wfInstanceID
 rather than the wfnameRef</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/ProcBinding.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">ProcBinding</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getProcBindings(java.util.Map)">getProcBindings</A></B>(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;constraints)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all ProCBinding records that satisfy the input constraints</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/ProvenanceProcessor.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">ProvenanceProcessor</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getProcessors(java.util.Map)">getProcessors</A></B>(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;constraints)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic method to fetch processors subject to additional query constraints</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map&lt;java.lang.String,java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/ProvenanceProcessor.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">ProvenanceProcessor</A>&gt;&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getProcessorsDeep(java.lang.String, java.lang.String)">getProcessorsDeep</A></B>(java.lang.String&nbsp;type,
                  java.lang.String&nbsp;wfnameRef)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this is similar to <A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getProcessorsShallow(java.lang.String, java.lang.String)"><CODE>getProcessorsShallow(String, String)</CODE></A> but it recursively fetches all processors
 within nested workflows.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/ProvenanceProcessor.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">ProvenanceProcessor</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getProcessorsForWorkflow(java.lang.String)">getProcessorsForWorkflow</A></B>(java.lang.String&nbsp;workflowID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map&lt;java.lang.String,java.lang.Integer&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getProcessorsIncomingLinks(java.lang.String)">getProcessorsIncomingLinks</A></B>(java.lang.String&nbsp;wfnameRef)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;used in the toposort phase -- propagation of anl() values through the
 graph</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/ProvenanceProcessor.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">ProvenanceProcessor</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getProcessorsShallow(java.lang.String, java.lang.String)">getProcessorsShallow</A></B>(java.lang.String&nbsp;type,
                     java.lang.String&nbsp;wfnameRef)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get all processors of a given type within a structure identified by
 wfnameRef (reference to dataflow).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/WorkflowInstance.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">WorkflowInstance</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getRuns(java.lang.String, java.util.Map)">getRuns</A></B>(java.lang.String&nbsp;dataflowID,
        java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;conditions)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;java.lang.String&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getSuccProcessors(java.lang.String, java.lang.String, java.lang.String)">getSuccProcessors</A></B>(java.lang.String&nbsp;pName,
                  java.lang.String&nbsp;wfNameRef,
                  java.lang.String&nbsp;wfInstanceId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/Var.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">Var</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getSuccVars(java.lang.String, java.lang.String, java.lang.String)">getSuccVars</A></B>(java.lang.String&nbsp;pName,
            java.lang.String&nbsp;vName,
            java.lang.String&nbsp;wfInstanceRef)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getTopDataflow(java.lang.String)">getTopDataflow</A></B>(java.lang.String&nbsp;wfInstanceID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getTopLevelDataflowName(java.lang.String)">getTopLevelDataflowName</A></B>(java.lang.String&nbsp;wfInstanceID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getTopLevelWfName(java.lang.String)">getTopLevelWfName</A></B>(java.lang.String&nbsp;runID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/VarBinding.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">VarBinding</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getVarBindings(java.util.Map)">getVarBindings</A></B>(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;constraints)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TODO this currently returns the data value as a string, which is
 incorrect as it is an untyped byte array</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/Var.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">Var</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getVars(java.util.Map)">getVars</A></B>(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;queryConstraints)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select Var records that satisfy constraints</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;java.lang.String&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getVarValues(java.lang.String, java.lang.String, java.lang.String)">getVarValues</A></B>(java.lang.String&nbsp;wfInstance,
             java.lang.String&nbsp;pname,
             java.lang.String&nbsp;vname)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/Workflow.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">Workflow</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getWfFromDataflowID(java.lang.String)">getWfFromDataflowID</A></B>(java.lang.String&nbsp;dataflowID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getWfNameForDataflow(java.lang.String)">getWfNameForDataflow</A></B>(java.lang.String&nbsp;dataflowName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returns the internal ID of a dataflow given its external name</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;java.lang.String&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getWfNames(java.lang.String)">getWfNames</A></B>(java.lang.String&nbsp;runID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returns the names of all workflows (top level + nested) for a given runID</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;java.lang.String&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getWFNamesByTime()">getWFNamesByTime</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/Workflow.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">Workflow</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getWorkflow(java.lang.String)">getWorkflow</A></B>(java.lang.String&nbsp;dataflowID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returns a Workflow record from the DB given the workflow internal ID</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/Workflow.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">Workflow</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getWorkflowForRun(java.lang.String)">getWorkflowForRun</A></B>(java.lang.String&nbsp;runID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returns the workflows associated to a single runID</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#isDataflow(java.lang.String)">isDataflow</A></B>(java.lang.String&nbsp;procName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#isRootProcessorOfWorkflow(java.lang.String, java.lang.String, java.lang.String)">isRootProcessorOfWorkflow</A></B>(java.lang.String&nbsp;procName,
                          java.lang.String&nbsp;wfName,
                          java.lang.String&nbsp;wfInstanceId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#isTopLevelDataflow(java.lang.String)">isTopLevelDataflow</A></B>(java.lang.String&nbsp;wfNameID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/LineageSQLQuery.html" title="class in net.sf.taverna.t2.provenance.lineageservice">LineageSQLQuery</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#lineageQueryGen(java.lang.String, java.lang.String, java.util.Map, net.sf.taverna.t2.provenance.lineageservice.utils.Var, java.lang.String, boolean)">lineageQueryGen</A></B>(java.lang.String&nbsp;wfInstanceID,
                java.lang.String&nbsp;proc,
                java.util.Map&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/Var.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">Var</A>,java.lang.String&gt;&nbsp;var2Path,
                <A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/Var.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">Var</A>&nbsp;outputVar,
                java.lang.String&nbsp;path,
                boolean&nbsp;returnOutputs)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if var2Path is null this generates a trivial query for the current output
 var and current path</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Set&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/DDRecord.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">DDRecord</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#queryAllFromValues(java.lang.String)">queryAllFromValues</A></B>(java.lang.String&nbsp;wfInstance)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Set&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/DDRecord.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">DDRecord</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#queryArcsForDD(java.lang.String, java.lang.String, java.lang.String, java.lang.String)">queryArcsForDD</A></B>(java.lang.String&nbsp;p,
               java.lang.String&nbsp;v,
               java.lang.String&nbsp;val,
               java.lang.String&nbsp;wfInstance)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/DDRecord.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">DDRecord</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#queryDD(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)">queryDD</A></B>(java.lang.String&nbsp;p,
        java.lang.String&nbsp;var,
        java.lang.String&nbsp;value,
        java.lang.String&nbsp;iteration,
        java.lang.String&nbsp;wfInstance)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.jdom.Document</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#recordsToCollection(net.sf.taverna.t2.provenance.lineageservice.Dependencies)">recordsToCollection</A></B>(<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/Dependencies.html" title="class in net.sf.taverna.t2.provenance.lineageservice">Dependencies</A>&nbsp;lqr)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;takes an ordered set of records for the same variable with iteration
 indexes and builds a collection out of it</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/Dependencies.html" title="class in net.sf.taverna.t2.provenance.lineageservice">Dependencies</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#runCollectionQuery(net.sf.taverna.t2.provenance.lineageservice.LineageSQLQuery)">runCollectionQuery</A></B>(<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/LineageSQLQuery.html" title="class in net.sf.taverna.t2.provenance.lineageservice">LineageSQLQuery</A>&nbsp;lq)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/Dependencies.html" title="class in net.sf.taverna.t2.provenance.lineageservice">Dependencies</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#runLineageQueries(java.util.List, boolean)">runLineageQueries</A></B>(java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/LineageSQLQuery.html" title="class in net.sf.taverna.t2.provenance.lineageservice">LineageSQLQuery</A>&gt;&nbsp;lqList,
                  boolean&nbsp;includeDataValue)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/Dependencies.html" title="class in net.sf.taverna.t2.provenance.lineageservice">Dependencies</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#runLineageQuery(net.sf.taverna.t2.provenance.lineageservice.LineageSQLQuery, boolean)">runLineageQuery</A></B>(<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/LineageSQLQuery.html" title="class in net.sf.taverna.t2.provenance.lineageservice">LineageSQLQuery</A>&nbsp;lq,
                boolean&nbsp;includeDataValue)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;executes one of the lineage queries produced by the graph visit algorithm.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/Dependencies.html" title="class in net.sf.taverna.t2.provenance.lineageservice">Dependencies</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#runVBQuery(net.sf.taverna.t2.provenance.lineageservice.LineageSQLQuery, boolean)">runVBQuery</A></B>(<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/LineageSQLQuery.html" title="class in net.sf.taverna.t2.provenance.lineageservice">LineageSQLQuery</A>&nbsp;lq,
           boolean&nbsp;includeDataValue)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/LineageSQLQuery.html" title="class in net.sf.taverna.t2.provenance.lineageservice">LineageSQLQuery</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#simpleLineageQuery(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)">simpleLineageQuery</A></B>(java.lang.String&nbsp;wfInstance,
                   java.lang.String&nbsp;wfNameRef,
                   java.lang.String&nbsp;pname,
                   java.lang.String&nbsp;vname,
                   java.lang.String&nbsp;iteration)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;simplest possible pinpoint query.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="logger"><!-- --></A><H3>
logger</H3>
<PRE>
protected org.apache.log4j.Logger <B>logger</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="DATAFLOW_TYPE"><!-- --></A><H3>
DATAFLOW_TYPE</H3>
<PRE>
public static java.lang.String <B>DATAFLOW_TYPE</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ProvenanceQuery()"><!-- --></A><H3>
ProvenanceQuery</H3>
<PRE>
public <B>ProvenanceQuery</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getConnection()"><!-- --></A><H3>
getConnection</H3>
<PRE>
public java.sql.Connection <B>getConnection</B>()
                                  throws java.lang.InstantiationException,
                                         java.lang.IllegalAccessException,
                                         java.lang.ClassNotFoundException,
                                         java.sql.SQLException</PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.InstantiationException</CODE>
<DD><CODE>java.lang.IllegalAccessException</CODE>
<DD><CODE>java.lang.ClassNotFoundException</CODE>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="addWhereClauseToQuery(java.lang.String, java.util.Map, boolean)"><!-- --></A><H3>
addWhereClauseToQuery</H3>
<PRE>
protected java.lang.String <B>addWhereClauseToQuery</B>(java.lang.String&nbsp;q0,
                                                 java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;queryConstraints,
                                                 boolean&nbsp;terminate)</PRE>
<DL>
<DD>implements a set of query constraints of the form var = value into a
 WHERE clause
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>q0</CODE> - <DD><CODE>queryConstraints</CODE> - 
<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="addOrderByToQuery(java.lang.String, java.util.List, boolean)"><!-- --></A><H3>
addOrderByToQuery</H3>
<PRE>
protected java.lang.String <B>addOrderByToQuery</B>(java.lang.String&nbsp;q0,
                                             java.util.List&lt;java.lang.String&gt;&nbsp;orderAttr,
                                             boolean&nbsp;terminate)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="execQuery(java.lang.String)"><!-- --></A><H3>
execQuery</H3>
<PRE>
public java.sql.Statement <B>execQuery</B>(java.lang.String&nbsp;q)
                             throws java.lang.InstantiationException,
                                    java.lang.IllegalAccessException,
                                    java.lang.ClassNotFoundException,
                                    java.sql.SQLException</PRE>
<DL>
<DD>pass-through query method
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>q</CODE> - valid JDBC query string for the T2provenance schema
<DT><B>Returns:</B><DD>the executed Statement if successull, null otherwise
<DT><B>Throws:</B>
<DD><CODE>java.lang.InstantiationException</CODE>
<DD><CODE>java.lang.IllegalAccessException</CODE>
<DD><CODE>java.lang.ClassNotFoundException</CODE>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getVars(java.util.Map)"><!-- --></A><H3>
getVars</H3>
<PRE>
public java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/Var.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">Var</A>&gt; <B>getVars</B>(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;queryConstraints)
                            throws java.sql.SQLException</PRE>
<DL>
<DD>select Var records that satisfy constraints
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getVarValues(java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
getVarValues</H3>
<PRE>
public java.util.List&lt;java.lang.String&gt; <B>getVarValues</B>(java.lang.String&nbsp;wfInstance,
                                                     java.lang.String&nbsp;pname,
                                                     java.lang.String&nbsp;vname)
                                              throws java.sql.SQLException</PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getInputVars(java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
getInputVars</H3>
<PRE>
public java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/Var.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">Var</A>&gt; <B>getInputVars</B>(java.lang.String&nbsp;pname,
                                        java.lang.String&nbsp;wfID,
                                        java.lang.String&nbsp;wfInstanceID)
                                 throws java.sql.SQLException</PRE>
<DL>
<DD>return the input variables for a given processor and a wfInstanceId
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pname</CODE> - <DD><CODE>wfInstanceId</CODE> - 
<DT><B>Returns:</B><DD>list of input variables
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getOutputVars(java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
getOutputVars</H3>
<PRE>
public java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/Var.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">Var</A>&gt; <B>getOutputVars</B>(java.lang.String&nbsp;pname,
                                         java.lang.String&nbsp;wfID,
                                         java.lang.String&nbsp;wfInstanceID)
                                  throws java.sql.SQLException</PRE>
<DL>
<DD>return the output variables for a given processor and a wfInstanceId
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pname</CODE> - <DD><CODE>wfInstanceId</CODE> - 
<DT><B>Returns:</B><DD>list of output variables
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getArcs(java.util.Map)"><!-- --></A><H3>
getArcs</H3>
<PRE>
public java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/Arc.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">Arc</A>&gt; <B>getArcs</B>(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;queryConstraints)
                            throws java.sql.SQLException</PRE>
<DL>
<DD>selects all Arcs
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>queryConstraints</CODE> - 
<DT><B>Returns:</B><DD>
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getTopLevelWfName(java.lang.String)"><!-- --></A><H3>
getTopLevelWfName</H3>
<PRE>
public java.lang.String <B>getTopLevelWfName</B>(java.lang.String&nbsp;runID)
                                   throws java.sql.SQLException</PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getWfNames(java.lang.String)"><!-- --></A><H3>
getWfNames</H3>
<PRE>
public java.util.List&lt;java.lang.String&gt; <B>getWfNames</B>(java.lang.String&nbsp;runID)
                                            throws java.sql.SQLException</PRE>
<DL>
<DD>returns the names of all workflows (top level + nested) for a given runID
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>runID</CODE> - 
<DT><B>Returns:</B><DD>
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getWorkflowForRun(java.lang.String)"><!-- --></A><H3>
getWorkflowForRun</H3>
<PRE>
public java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/Workflow.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">Workflow</A>&gt; <B>getWorkflowForRun</B>(java.lang.String&nbsp;runID)
                                           throws java.sql.SQLException</PRE>
<DL>
<DD>returns the workflows associated to a single runID
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>runID</CODE> - 
<DT><B>Returns:</B><DD>
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getLatestRunID()"><!-- --></A><H3>
getLatestRunID</H3>
<PRE>
public java.lang.String <B>getLatestRunID</B>()
                                throws java.sql.SQLException</PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getRuns(java.lang.String, java.util.Map)"><!-- --></A><H3>
getRuns</H3>
<PRE>
public java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/WorkflowInstance.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">WorkflowInstance</A>&gt; <B>getRuns</B>(java.lang.String&nbsp;dataflowID,
                                                java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;conditions)
                                         throws java.sql.SQLException</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>dataflowID</CODE> - <DD><CODE>conditions</CODE> - currently only understands "from" and "to" as timestamps for range queries
<DT><B>Returns:</B><DD>
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getWFNamesByTime()"><!-- --></A><H3>
getWFNamesByTime</H3>
<PRE>
public java.util.List&lt;java.lang.String&gt; <B>getWFNamesByTime</B>()
                                                  throws java.sql.SQLException</PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getProcBindings(java.util.Map)"><!-- --></A><H3>
getProcBindings</H3>
<PRE>
public java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/ProcBinding.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">ProcBinding</A>&gt; <B>getProcBindings</B>(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;constraints)
                                            throws java.sql.SQLException</PRE>
<DL>
<DD>all ProCBinding records that satisfy the input constraints
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>constraints</CODE> - 
<DT><B>Returns:</B><DD>
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getVarBindings(java.util.Map)"><!-- --></A><H3>
getVarBindings</H3>
<PRE>
public java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/VarBinding.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">VarBinding</A>&gt; <B>getVarBindings</B>(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;constraints)
                                          throws java.sql.SQLException</PRE>
<DL>
<DD>TODO this currently returns the data value as a string, which is
 incorrect as it is an untyped byte array
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>constraints</CODE> - a Map columnName -> value that defines the query constraints.
            Note: columnName must be fully qualified. This is not done
            well at the moment, i.e., PNameRef should be
            VarBinding.PNameRef to avoid ambiguities
<DT><B>Returns:</B><DD>
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getNestedListNodes(java.util.Map)"><!-- --></A><H3>
getNestedListNodes</H3>
<PRE>
public java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/NestedListNode.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">NestedListNode</A>&gt; <B>getNestedListNodes</B>(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;constraints)
                                                  throws java.sql.SQLException</PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getPredecessorsCount(java.lang.String)"><!-- --></A><H3>
getPredecessorsCount</H3>
<PRE>
public java.util.Map&lt;java.lang.String,java.lang.Integer&gt; <B>getPredecessorsCount</B>(java.lang.String&nbsp;wfInstanceID)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPredecessorsCountOld(java.lang.String)"><!-- --></A><H3>
getPredecessorsCountOld</H3>
<PRE>
public java.util.Map&lt;java.lang.String,java.lang.Integer&gt; <B>getPredecessorsCountOld</B>(java.lang.String&nbsp;wfInstanceID)</PRE>
<DL>
<DD>new impl of getProcessorsIncomingLinks whicih avoids complications due to nesting, and relies on the wfInstanceID
 rather than the wfnameRef
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>wfInstanceID</CODE> - 
<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="getProcessorsIncomingLinks(java.lang.String)"><!-- --></A><H3>
getProcessorsIncomingLinks</H3>
<PRE>
public java.util.Map&lt;java.lang.String,java.lang.Integer&gt; <B>getProcessorsIncomingLinks</B>(java.lang.String&nbsp;wfnameRef)
                                                                             throws java.sql.SQLException</PRE>
<DL>
<DD>used in the toposort phase -- propagation of anl() values through the
 graph
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>wfnameRef</CODE> - reference to static wf name
<DT><B>Returns:</B><DD>a map <processor name> --> <incoming links count> for each
         processor, without counting the arcs from the dataflow input to
         processors. So a processor is at the root of the graph if it has
         no incoming links, or all of its incoming links are from dataflow
         inputs.<br/>
         Note: this must be checked for processors that are roots of
         sub-flows... are these counted as top-level root nodes??
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getSuccVars(java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
getSuccVars</H3>
<PRE>
public java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/Var.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">Var</A>&gt; <B>getSuccVars</B>(java.lang.String&nbsp;pName,
                                       java.lang.String&nbsp;vName,
                                       java.lang.String&nbsp;wfInstanceRef)
                                throws java.sql.SQLException</PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getSuccProcessors(java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
getSuccProcessors</H3>
<PRE>
public java.util.List&lt;java.lang.String&gt; <B>getSuccProcessors</B>(java.lang.String&nbsp;pName,
                                                          java.lang.String&nbsp;wfNameRef,
                                                          java.lang.String&nbsp;wfInstanceId)
                                                   throws java.sql.SQLException</PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getProcessorsShallow(java.lang.String, java.lang.String)"><!-- --></A><H3>
getProcessorsShallow</H3>
<PRE>
public java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/ProvenanceProcessor.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">ProvenanceProcessor</A>&gt; <B>getProcessorsShallow</B>(java.lang.String&nbsp;type,
                                                                java.lang.String&nbsp;wfnameRef)
                                                         throws java.sql.SQLException</PRE>
<DL>
<DD>get all processors of a given type within a structure identified by
 wfnameRef (reference to dataflow). type constraint is ignored if value is null.<br>
 this only returns the processor for the input wfNameRef, without going into any neted workflows
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>wfnameRef</CODE> - <DD><CODE>type</CODE> - 
<DT><B>Returns:</B><DD>a list, that contains at most one element
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getProcessorsDeep(java.lang.String, java.lang.String)"><!-- --></A><H3>
getProcessorsDeep</H3>
<PRE>
public java.util.Map&lt;java.lang.String,java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/ProvenanceProcessor.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">ProvenanceProcessor</A>&gt;&gt; <B>getProcessorsDeep</B>(java.lang.String&nbsp;type,
                                                                                             java.lang.String&nbsp;wfnameRef)</PRE>
<DL>
<DD>this is similar to <A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html#getProcessorsShallow(java.lang.String, java.lang.String)"><CODE>getProcessorsShallow(String, String)</CODE></A> but it recursively fetches all processors
 within nested workflows. The result is collected in the form of a map: wfName -> {ProvenanceProcessor}
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>type</CODE> - <DD><CODE>wfnameRef</CODE> - 
<DT><B>Returns:</B><DD>a map: wfName -> {ProvenanceProcessor} where wfName is the name of a (possibly nested) workflow, and 
 the values are the processors within that workflow</DL>
</DD>
</DL>
<HR>

<A NAME="getDataValue(java.lang.String)"><!-- --></A><H3>
getDataValue</H3>
<PRE>
public java.lang.String <B>getDataValue</B>(java.lang.String&nbsp;valueRef)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getProcessors(java.util.Map)"><!-- --></A><H3>
getProcessors</H3>
<PRE>
public java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/ProvenanceProcessor.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">ProvenanceProcessor</A>&gt; <B>getProcessors</B>(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;constraints)
                                                  throws java.sql.SQLException</PRE>
<DL>
<DD>generic method to fetch processors subject to additional query constraints
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>constraints</CODE> - 
<DT><B>Returns:</B><DD>
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getProcessorsForWorkflow(java.lang.String)"><!-- --></A><H3>
getProcessorsForWorkflow</H3>
<PRE>
public java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/ProvenanceProcessor.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">ProvenanceProcessor</A>&gt; <B>getProcessorsForWorkflow</B>(java.lang.String&nbsp;workflowID)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="simpleLineageQuery(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
simpleLineageQuery</H3>
<PRE>
public <A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/LineageSQLQuery.html" title="class in net.sf.taverna.t2.provenance.lineageservice">LineageSQLQuery</A> <B>simpleLineageQuery</B>(java.lang.String&nbsp;wfInstance,
                                          java.lang.String&nbsp;wfNameRef,
                                          java.lang.String&nbsp;pname,
                                          java.lang.String&nbsp;vname,
                                          java.lang.String&nbsp;iteration)</PRE>
<DL>
<DD>simplest possible pinpoint query. Uses iteration info straight away. Assumes result is in VarBinding not in Collection
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>wfInstance</CODE> - <DD><CODE>pname</CODE> - <DD><CODE>vname</CODE> - <DD><CODE>iteration</CODE> - 
<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="lineageQueryGen(java.lang.String, java.lang.String, java.util.Map, net.sf.taverna.t2.provenance.lineageservice.utils.Var, java.lang.String, boolean)"><!-- --></A><H3>
lineageQueryGen</H3>
<PRE>
public java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/LineageSQLQuery.html" title="class in net.sf.taverna.t2.provenance.lineageservice">LineageSQLQuery</A>&gt; <B>lineageQueryGen</B>(java.lang.String&nbsp;wfInstanceID,
                                                       java.lang.String&nbsp;proc,
                                                       java.util.Map&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/Var.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">Var</A>,java.lang.String&gt;&nbsp;var2Path,
                                                       <A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/Var.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">Var</A>&nbsp;outputVar,
                                                       java.lang.String&nbsp;path,
                                                       boolean&nbsp;returnOutputs)</PRE>
<DL>
<DD>if var2Path is null this generates a trivial query for the current output
 var and current path
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>wfInstanceID</CODE> - <DD><CODE>proc</CODE> - <DD><CODE>var2Path</CODE> - <DD><CODE>outputVar</CODE> - <DD><CODE>path</CODE> - <DD><CODE>returnOutputs</CODE> - returns inputs *and* outputs if set to true
<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="generateSQL2(java.lang.String, java.lang.String, java.lang.String, java.lang.String, boolean)"><!-- --></A><H3>
generateSQL2</H3>
<PRE>
protected <A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/LineageSQLQuery.html" title="class in net.sf.taverna.t2.provenance.lineageservice">LineageSQLQuery</A> <B>generateSQL2</B>(java.lang.String&nbsp;wfInstance,
                                       java.lang.String&nbsp;proc,
                                       java.lang.String&nbsp;var,
                                       java.lang.String&nbsp;path,
                                       boolean&nbsp;returnInput)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="generateSQL(java.lang.String, java.lang.String, java.lang.String, boolean)"><!-- --></A><H3>
generateSQL</H3>
<PRE>
public <A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/LineageSQLQuery.html" title="class in net.sf.taverna.t2.provenance.lineageservice">LineageSQLQuery</A> <B>generateSQL</B>(java.lang.String&nbsp;wfInstance,
                                   java.lang.String&nbsp;proc,
                                   java.lang.String&nbsp;effectivePath,
                                   boolean&nbsp;returnOutputs)</PRE>
<DL>
<DD>if effectivePath is not null: query varBinding using: wfInstanceRef =
 wfInstance, iteration = effectivePath, PNameRef = proc if input vars is
 null, then use the output var this returns the bindings for the set of
 input vars at the correct iteration if effectivePath is null: fetch
 VarBindings for all input vars, without constraint on the iteration<br/>
 added outer join with Data<br/>
 additionally, try querying the collection table first -- if the query succeeds, it means
 the path is pointing to an internal node in the collection, and we just got the right node.
 Otherwise, query VarBinding for the leaves
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>wfInstance</CODE> - <DD><CODE>proc</CODE> - <DD><CODE>effectivePath</CODE> - <DD><CODE>returnOutputs</CODE> - returns both inputs and outputs if set to true
<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="runCollectionQuery(net.sf.taverna.t2.provenance.lineageservice.LineageSQLQuery)"><!-- --></A><H3>
runCollectionQuery</H3>
<PRE>
public <A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/Dependencies.html" title="class in net.sf.taverna.t2.provenance.lineageservice">Dependencies</A> <B>runCollectionQuery</B>(<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/LineageSQLQuery.html" title="class in net.sf.taverna.t2.provenance.lineageservice">LineageSQLQuery</A>&nbsp;lq)
                                throws java.sql.SQLException</PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="runVBQuery(net.sf.taverna.t2.provenance.lineageservice.LineageSQLQuery, boolean)"><!-- --></A><H3>
runVBQuery</H3>
<PRE>
public <A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/Dependencies.html" title="class in net.sf.taverna.t2.provenance.lineageservice">Dependencies</A> <B>runVBQuery</B>(<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/LineageSQLQuery.html" title="class in net.sf.taverna.t2.provenance.lineageservice">LineageSQLQuery</A>&nbsp;lq,
                               boolean&nbsp;includeDataValue)
                        throws java.sql.SQLException</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>lq</CODE> - <DD><CODE>includeDataValue</CODE> - IGNORED. always false
<DT><B>Returns:</B><DD>
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="runLineageQuery(net.sf.taverna.t2.provenance.lineageservice.LineageSQLQuery, boolean)"><!-- --></A><H3>
runLineageQuery</H3>
<PRE>
public <A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/Dependencies.html" title="class in net.sf.taverna.t2.provenance.lineageservice">Dependencies</A> <B>runLineageQuery</B>(<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/LineageSQLQuery.html" title="class in net.sf.taverna.t2.provenance.lineageservice">LineageSQLQuery</A>&nbsp;lq,
                                    boolean&nbsp;includeDataValue)
                             throws java.sql.SQLException</PRE>
<DL>
<DD>executes one of the lineage queries produced by the graph visit algorithm. This first executes the collection query, and then
 if no result is returned, the varBinding query
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>lq</CODE> - a lineage query computed during the graph traversal<DD><CODE>includeDataValue</CODE> - if true, then the referenced value is included in the result.
            This may only be necessary for testing: the data reference in
            field value (which is a misleading field name, and actually
            refers to the data reference) should be sufficient
<DT><B>Returns:</B><DD>
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="runLineageQueries(java.util.List, boolean)"><!-- --></A><H3>
runLineageQueries</H3>
<PRE>
public java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/Dependencies.html" title="class in net.sf.taverna.t2.provenance.lineageservice">Dependencies</A>&gt; <B>runLineageQueries</B>(java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/LineageSQLQuery.html" title="class in net.sf.taverna.t2.provenance.lineageservice">LineageSQLQuery</A>&gt;&nbsp;lqList,
                                                      boolean&nbsp;includeDataValue)
                                               throws java.sql.SQLException</PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="recordsToCollection(net.sf.taverna.t2.provenance.lineageservice.Dependencies)"><!-- --></A><H3>
recordsToCollection</H3>
<PRE>
public org.jdom.Document <B>recordsToCollection</B>(<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/Dependencies.html" title="class in net.sf.taverna.t2.provenance.lineageservice">Dependencies</A>&nbsp;lqr)</PRE>
<DL>
<DD>takes an ordered set of records for the same variable with iteration
 indexes and builds a collection out of it
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>lqr</CODE> - 
<DT><B>Returns:</B><DD>a jdom Document with the collection</DL>
</DD>
</DL>
<HR>

<A NAME="getContainedProcessors(java.lang.String)"><!-- --></A><H3>
getContainedProcessors</H3>
<PRE>
public java.util.List&lt;java.lang.String&gt; <B>getContainedProcessors</B>(java.lang.String&nbsp;dataflowName)</PRE>
<DL>
<DD>returns the set of all processors that are structurally contained within
 the wf corresponding to the input dataflow name
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>dataflowName</CODE> - the name of a processor of type DataFlowActivity
<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="getTopLevelDataflowName(java.lang.String)"><!-- --></A><H3>
getTopLevelDataflowName</H3>
<PRE>
public java.lang.String <B>getTopLevelDataflowName</B>(java.lang.String&nbsp;wfInstanceID)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getWfFromDataflowID(java.lang.String)"><!-- --></A><H3>
getWfFromDataflowID</H3>
<PRE>
public <A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/Workflow.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">Workflow</A> <B>getWfFromDataflowID</B>(java.lang.String&nbsp;dataflowID)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>dataflowID</CODE> - internal dataflow ID
<DT><B>Returns:</B><DD>the external name of a dataflow</DL>
</DD>
</DL>
<HR>

<A NAME="getWfNameForDataflow(java.lang.String)"><!-- --></A><H3>
getWfNameForDataflow</H3>
<PRE>
public java.lang.String <B>getWfNameForDataflow</B>(java.lang.String&nbsp;dataflowName)</PRE>
<DL>
<DD>returns the internal ID of a dataflow given its external name
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>dataflowName</CODE> - <DD><CODE>instanceID</CODE> - 
<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="getChildrenOfWorkflow(java.lang.String)"><!-- --></A><H3>
getChildrenOfWorkflow</H3>
<PRE>
public java.util.List&lt;java.lang.String&gt; <B>getChildrenOfWorkflow</B>(java.lang.String&nbsp;parentWFName)
                                                       throws java.sql.SQLException</PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getParentOfWorkflow(java.lang.String)"><!-- --></A><H3>
getParentOfWorkflow</H3>
<PRE>
public java.lang.String <B>getParentOfWorkflow</B>(java.lang.String&nbsp;childWFName)
                                     throws java.sql.SQLException</PRE>
<DL>
<DD>fetch children of parentWFName from the Workflow table
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>childWFName</CODE> - 
<DT><B>Returns:</B><DD>
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getAllWFnames()"><!-- --></A><H3>
getAllWFnames</H3>
<PRE>
public java.util.List&lt;java.lang.String&gt; <B>getAllWFnames</B>()
                                               throws java.sql.SQLException</PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="isDataflow(java.lang.String)"><!-- --></A><H3>
isDataflow</H3>
<PRE>
public boolean <B>isDataflow</B>(java.lang.String&nbsp;procName)
                   throws java.sql.SQLException</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>procName</CODE> - 
<DT><B>Returns:</B><DD>true if procName is the external name of a dataflow, false
         otherwise
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="isTopLevelDataflow(java.lang.String)"><!-- --></A><H3>
isTopLevelDataflow</H3>
<PRE>
public boolean <B>isTopLevelDataflow</B>(java.lang.String&nbsp;wfNameID)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getTopDataflow(java.lang.String)"><!-- --></A><H3>
getTopDataflow</H3>
<PRE>
public java.lang.String <B>getTopDataflow</B>(java.lang.String&nbsp;wfInstanceID)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="queryDD(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
queryDD</H3>
<PRE>
public java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/DDRecord.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">DDRecord</A>&gt; <B>queryDD</B>(java.lang.String&nbsp;p,
                                        java.lang.String&nbsp;var,
                                        java.lang.String&nbsp;value,
                                        java.lang.String&nbsp;iteration,
                                        java.lang.String&nbsp;wfInstance)
                                 throws java.sql.SQLException</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>p</CODE> - pTo processor<DD><CODE>var</CODE> - vTo<DD><CODE>value</CODE> - valTo
<DT><B>Returns:</B><DD>a set of DDRecord
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="queryArcsForDD(java.lang.String, java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
queryArcsForDD</H3>
<PRE>
public java.util.Set&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/DDRecord.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">DDRecord</A>&gt; <B>queryArcsForDD</B>(java.lang.String&nbsp;p,
                                              java.lang.String&nbsp;v,
                                              java.lang.String&nbsp;val,
                                              java.lang.String&nbsp;wfInstance)
                                       throws java.sql.SQLException</PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="queryAllFromValues(java.lang.String)"><!-- --></A><H3>
queryAllFromValues</H3>
<PRE>
public java.util.Set&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/DDRecord.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">DDRecord</A>&gt; <B>queryAllFromValues</B>(java.lang.String&nbsp;wfInstance)
                                           throws java.sql.SQLException</PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="isRootProcessorOfWorkflow(java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
isRootProcessorOfWorkflow</H3>
<PRE>
public boolean <B>isRootProcessorOfWorkflow</B>(java.lang.String&nbsp;procName,
                                         java.lang.String&nbsp;wfName,
                                         java.lang.String&nbsp;wfInstanceId)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getContainingWorkflowsForProcessor(java.lang.String)"><!-- --></A><H3>
getContainingWorkflowsForProcessor</H3>
<PRE>
public java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/Workflow.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">Workflow</A>&gt; <B>getContainingWorkflowsForProcessor</B>(java.lang.String&nbsp;pname)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getWorkflow(java.lang.String)"><!-- --></A><H3>
getWorkflow</H3>
<PRE>
public <A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/Workflow.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">Workflow</A> <B>getWorkflow</B>(java.lang.String&nbsp;dataflowID)</PRE>
<DL>
<DD>returns a Workflow record from the DB given the workflow internal ID
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>dataflowID</CODE> - 
<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="getContainingCollection(net.sf.taverna.t2.provenance.lineageservice.LineageQueryResultRecord)"><!-- --></A><H3>
getContainingCollection</H3>
<PRE>
public java.lang.String <B>getContainingCollection</B>(<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/LineageQueryResultRecord.html" title="class in net.sf.taverna.t2.provenance.lineageservice">LineageQueryResultRecord</A>&nbsp;record)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>record</CODE> - a record representing a single value -- possibly within a list hierarchy
<DT><B>Returns:</B><DD>the URI for topmost containing collection when the input record is within a list hierarchy, or null otherwise</DL>
</DD>
</DL>
<HR>

<A NAME="getAllWorkflowRecords(java.util.ArrayList)"><!-- --></A><H3>
getAllWorkflowRecords</H3>
<PRE>
public java.util.ArrayList&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/Workflow.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">Workflow</A>&gt; <B>getAllWorkflowRecords</B>(java.util.ArrayList&lt;java.lang.String&gt;&nbsp;workflowIDList)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getCollectionsForRun(java.lang.String)"><!-- --></A><H3>
getCollectionsForRun</H3>
<PRE>
public java.util.List&lt;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/utils/Collection.html" title="class in net.sf.taverna.t2.provenance.lineageservice.utils">Collection</A>&gt; <B>getCollectionsForRun</B>(java.lang.String&nbsp;wfInstanceID)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ProvenanceQuery.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceAnalysis.html" title="class in net.sf.taverna.t2.provenance.lineageservice"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../net/sf/taverna/t2/provenance/lineageservice/ProvenanceWriter.html" title="class in net.sf.taverna.t2.provenance.lineageservice"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html?net/sf/taverna/t2/provenance/lineageservice/ProvenanceQuery.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ProvenanceQuery.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
